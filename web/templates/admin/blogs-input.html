<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>博客发布</title>
    <link rel="stylesheet" href="../../static/lib/Semantic-UI-2.5.0/dist/semantic.min.css" type="text/css">
    <link rel="stylesheet" href="../../static/lib/markdown/css/editormd.min.css">
    <link rel="stylesheet" href="../../static/css/me.css" type="text/css">
</head>

<body>

    <!--导航-->
    <nav id="my-nav" style="z-index: inherit; opacity: 1; !important;">
    <div class="ui container">
        <div class="ui inverted secondary menu stackable">
            <h1 class="ui blue header item">后台管理</h1>
            <a href="#" class="item m-item m-mobile-hide"><i class="folder open outline icon"></i>文章管理</a>
            <a href="#" class="item m-item m-mobile-hide active"><i class="file alternate outline icon"></i>文章发布</a>
            <a href="#" class="item m-item m-mobile-hide"><i class="clone outline icon"></i>分类管理</a>
            <a href="#" class="item m-item m-mobile-hide"><i class="clone outline icon"></i>标签管理</a>
            <div class="right m-item m-mobile-hide menu">
                <div class="item">
                    <div class="ui dropdown item">
                        <div class="text">
                            <img class="ui avatar image" src="../../static/img/xiu.jpg" alt="">
                            锈渎
                        </div>
                        <i class="dropdown icon"></i>
                        <div class="menu">
                            <a href="#" class="item">注销</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <button id="menu-toggle" class="ui menu black button icon m-right-top m-mobile-show">
        <i class="sidebar icon"></i>
    </button>
</nav>

    <!--中间元素-->
    <div id="main" class="m-margin-top-big m-padded-tb-large">
         <div class="ui container segment">
             <form action="#" method="post" class="ui form">

                 <div class="required field">
                     <input type="text" name="title" placeholder="标题">
                 </div>

                 <div class="required field">
                     <div class="fourteen wide column">
                         <div class="ui left labeled action input">
                             <label class="ui compact teal basic label">分类</label>
                             <div class="ui fluid selection dropdown"  style="z-index: 10001">
                                 <input type="hidden" value="-1" name="type">
                                 <i class="dropdown icon"></i>
                                 <div class="default text">选择分类</div>
                                 <div class="menu">
                                     <div class="item" data-value="1">只</div>
                                     <div class="item" data-value="2">因</div>
                                     <div class="item" data-value="3">你</div>
                                     <div class="item" data-value="4">太</div>
                                     <div class="item" data-value="5">美</div>
                                 </div>
                             </div>
                         </div>
                     </div>
                 </div>

                 <div class="required field">
                     <div class="fourteen wide column">
                         <div class="ui left labeled action input">
                             <label class="ui compact teal basic label">标签</label>
                             <div class="ui fluid multiple selection dropdown"  style="z-index: 10000">
                                 <input type="hidden" value="-1" name="tagIds">
                                 <i class="dropdown icon"></i>
                                 <div class="default text">选择标签</div>
                                 <div class="menu">
                                     <div class="item" data-value="1">只</div>
                                     <div class="item" data-value="2">因</div>
                                     <div class="item" data-value="3">你</div>
                                     <div class="item" data-value="4">太</div>
                                     <div class="item" data-value="5">美</div>
                                 </div>
                             </div>
                         </div>
                     </div>
                 </div>

                 <div class="field">
                     <div class="ui left labeled input">
                         <label class="ui teal basic label">首图</label>
                         <input type="text" name="indexPicture" placeholder="首图引用地址">
                     </div>
                 </div>

<!--                 <div class="field">-->
                     <div id="md-content" style="z-index: 9999">
                         <textarea name="content"  cols="30" rows="10" placeholder="请编辑博客内容..." style="display: none">

[TOC]

#### Disabled options

- TeX (Based on KaTeX);
- Emoji;
- Task lists;
- HTML tags decode;
- Flowchart and Sequence Diagram;

                         </textarea>
                     </div>
<!--                 </div>-->

                 <div align="right" style="margin-right: 1em">
                     <div class="ui checkbox">
                         <input type="checkbox" id="top" name="top" class="hidden">
                         <label for="top">置顶</label>
                     </div>
                     &emsp;
                     <div class="ui checkbox">
                         <input type="checkbox" id="comment" name="comment" class="hidden">
                         <label for="comment">开启评论</label>
                     </div>
                 </div>

                 <div class="ui error message"></div>

                <div class="ui right aligned container">
                    <button type="button" class="ui button" onclick="window.history.go(-1)">返回</button>
                    <button class="ui secondary button">保存</button>
                    <button class="ui blue button">发布</button>
                </div>
             </form>
         </div>
    </div>

    <!--置顶图标-->
    <div id="toolbar" class="m-padded-tb-large m-fixed m-right-bottom toTop-button">
        <div class="ui teal icon button"><i class="chevron up icon"></i> </div>
    </div>
    <!--底部footer-->
    <footer class="ui inverted vertical segment  m-padded-tb m-opacity m-margin-top-big">
        <div class="ui center aligned container">
            <div class="ui inverted divided stackable grid">
                <div class="five wide column">
                    <h4 class="ui inverted header m-opacity-small">联系我</h4>
                    <div class="ui inverted link list">
                        <div class="item">QQ:XXXXXXXXX</div>
                    </div>
                </div>
                <div class="six wide column">
                    <h4 class="ui inverted header m-opacity-small">最新博客</h4>
                    <div class="ui inverted link list">
                        <a href="#" class="item">这是一篇博客</a>
                        <a href="#" class="item">这是一篇博客</a>
                        <a href="#" class="item">这是一篇博客</a>
                    </div>
                </div>
                <div class="five wide column">
                    <h4 class="ui inverted header m-opacity-small">小栈信息</h4>
                    <div class="ui inverted link list">
                        <div class="item">
                            文章总数: <div class="ui orange header m-inline-block">&nbsp;200&nbsp;</div> 篇
                        </div>
                        <div class="item">
                            评论总数: <div class="ui orange header m-inline-block">&nbsp;200&nbsp;</div> 条
                        </div>
                        <div class="item">
                            留言总数: <div class="ui orange header m-inline-block">&nbsp;200&nbsp;</div> 条
                        </div>
                    </div>
                </div>
            </div>

            <div class="ui inverted section divider"></div>
            <div class="ui orange header m-text-thin m-text-spaced m-opacity-small">
                我的小栈已营业:
                <span id="run_time"></span>
            </div>

        </div>
    </footer>

    <script src="../../static/lib/jquery-3.0.0/jquery-3.0.0.min.js"></script>
    <script src="../../static/lib/Semantic-UI-2.5.0/dist/semantic.min.js"></script>
    <script src="../../static/lib/jquery-scrollTo/jquery.scrollTo.min.js"></script>
    <script src="../../static/lib/waypoints/jquery.waypoints.min.js"></script>
    <script src="../../static/lib/markdown/editormd.min.js"></script>
    <script src="../../static/js/footer_time.js"></script>
</body>
<script>

// -----------------------初始化markdown编辑器-----------------------

    var contentEditor;
    $(function() {
        contentEditor = editormd("md-content", {
            width   : "100%",
            height  : 640,
            syncScrolling : "single",
            path    : "../../static/lib/markdown/lib/",
            theme: "dark",//工具栏主题
            previewTheme: "dark",//预览主题
            editorTheme: "pastel-on-dark",//编辑主题
            saveHTMLToTextarea: true,
            emoji: true,
            taskList: true,
            tocm: true,         // Using [TOCM]
            tex: true,                   // 开启科学公式TeX语言支持，默认关闭
            flowChart : true,             // 开启流程图支持，默认关闭
            sequenceDiagram: true,       // 开启时序/序列图支持，默认关闭,

            imageUpload    : false,
            imageFormats   : ["jpg", "jpeg", "gif", "png", "bmp", "webp"],
            imageUploadURL : "./php/upload.php",
            onload: function () {

            }
        });

        /*
        // or
        testEditor = editormd({
            id      : "test-editormd",
            width   : "90%",
            height  : 640,
            path    : "../lib/"
        });
        */
    });
// ---------------------------------------------------------------

$('#menu-toggle').click(function (){
    $(".m-item").toggleClass("m-mobile-hide") // 有这个"m-mobile-hide"类就加上这个类否则就删去这个类
});
$(".ui.dropdown").dropdown({
    on: 'hover'
});

$('.ui.form').form({ // 表单验证
    fields : {
        title : {
            identifier: 'title', // 验证目标
            rules: [{
                type : 'empty', // 验证方式——非空
                prompt : '标题：请输入标题' // 错误提示
            }]
        },
        type : {
            identifier: 'type',
            rules: [{
                type : 'not[-1]',
                prompt: '请选择分类'
            }]
        }
    }
});

$('#md-content').click(function (){
    console.log(123)
    $('#md-content').toggleClass('m-show');
});


</script>

</html>